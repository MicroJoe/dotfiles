set nocompatible
source ~/.vim/bundles.vim

set encoding=utf-8
set fileencoding=utf-8

" Syntax options
syn on
set background=dark

" Indent options
set showmatch
set expandtab
set tabstop=4
set shiftwidth=4
set softtabstop=4
set smartindent

" Line numbers
set nu

" Interface
set mouse=a
set cursorline
set showcmd
set colorcolumn=80
set ruler
set ls=2

" Theme
let g:hybrid_use_Xresources = 1
colorscheme hybrid
set background=dark

" Delete all whitespace in end of line
autocmd BufWritePre * :%s/\s+$//e

" Doxygen
let g:DoxygenToolkit_commentType = "C++"

" Searching
set hlsearch
set incsearch
set ignorecase
set smartcase

" Remember location in file
if has("autocmd")
    au BufReadPost * if line("'\"") > 0 && line("'\"") <= line("$")
    \| exe "normal g'\"" | endif
endif

" Allow backspacing over everything in insert mode
set backspace=indent,eol,start

" Add json syntax highlighting
au BufNewFile,BufRead *.json set ft=javascript

" Yaml Configuration
au BufRead,BufNewFile *.{yml,yaml} set foldmethod=indent

" Wordwrap
set wrap
set linebreak

" Spellchecking
set spelllang=~/.vim/spell/fr.utf-8.spl
set spellfile=~/.vim/spell/fr.utf-8.add


function SetTextSettings()
    set tw=79
    set spell     
endfunction

autocmd BufNewFile,BufRead *.txt call SetTextSettings()
autocmd BufNewFile,BufRead *.md  call SetTextSettings()
autocmd BufNewFile,BufRead *.tex call SetTextSettings()

" Completion
filetype plugin on
set completeopt=longest,menuone
set omnifunc=syntaxcomplete#Complete

" Make the first completion item highlighted by default
inoremap <expr> <C-n> pumvisible() ? '<C-n>' :
  \ '<C-n><C-r>=pumvisible() ? "\<lt>Down>" : ""<CR>'

inoremap <expr> <M-,> pumvisible() ? '<C-n>' :
  \ '<C-x><C-o><C-n><C-p><C-r>=pumvisible() ? "\<lt>Down>" : ""<CR>'
